---
import defaultData from "./about.json";
// for some reason getting this error:  failed to load module for ssr: ./default.json
const xdefaultData = {
  title: "About Us",
  heading: "Brilliant Toolkit to Build Nextgen Website Faster.",
  text: [
    "The main thrust' is to focus on educating attendees on how to best protect highly vulnerable business applications with interactive panel discussions and roundtables led by subject matter experts.",
    "The main thrust' is to focus on educating attendees on how to best protect highly vulnerable business applications with interactive panel."
  ],
  cta: {
    button: {
      href: "/",
      text: "Learn More"
    }
  },
  image: {
    src: "/assets/images/about/about-image.svg",
    alt: "About Us"
  }
}
let {about} = Astro.props;
if(!about){
  about = defaultData;
  console.log("using default about")
};
---
<section
  id="about"
  class="pt-20 lg:pt-[120px] pb-20 lg:pb-[120px] bg-[#f3f4fe]"
>
  <div class="container">
    <div class="bg-white wow fadeInUp" data-wow-delay=".2s">
      <div class="flex flex-wrap -mx-4">
        <div class="w-full px-4">
          <div
            class="
              lg:flex
              items-center
              justify-between
              border
              overflow-hidden
            "
          >
            <div
              class="
                lg:max-w-[565px]
                xl:max-w-[640px]
                w-full
                py-12
                px-7
                sm:px-12
                md:p-16
                lg:py-9 lg:px-16
                xl:p-[70px]
              "
            >
              <span
                class="
                  text-sm
                  font-medium
                  text-white
                  py-2
                  px-5
                  bg-primary
                  inline-block
                  mb-5
                "
              >
                {about.title}
              </span>
              <h2
                class="
                  font-bold
                  text-3xl
                  sm:text-4xl
                  2xl:text-[40px]
                  sm:leading-snug
                  text-dark
                  mb-6
                "
              >
                {about.heading}
              </h2>
              { about.text && about.text.map(line => 
                <p class="text-base text-body-color mb-9 leading-relaxed">
                  {line.text}
                </p>
              )}
              { about.cta.button && 
                <a
                  href={about.cta.button.href}
                  class="
                    inline-flex
                    items-center
                    justify-center
                    py-4
                    px-6
                    rounded
                    text-white
                    bg-primary
                    text-base
                    font-medium
                    hover:bg-opacity-90 hover:shadow-lg
                    transition
                    duration-300
                    ease-in-out
                  "
                >
                  {about.cta.button.text}
                </a>
              }
            </div>
            <div class="text-center">
              <div class="relative inline-block z-10">
                { about.image && 
                  <img
                    src= {about.image.src}
                    alt= {about.image.alt}
                    class="mx-auto lg:ml-auto"
                  />
                }
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>